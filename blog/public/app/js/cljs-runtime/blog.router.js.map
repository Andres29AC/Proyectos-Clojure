{"version":3,"sources":["blog/router.cljs"],"mappings":";AAOA,qBAAA,mFAAA,IAAA,2CAAA,OAAA,qDAAA,WAAA,9NAAKA;AAKL,wBAAA,xBAAMC,wDAAWC;AAAjB,AACE,OAACC,sBAAiBH,mBAAOE;;AAG3B,uBAAA,vBAAME,sDAAUC;AAAhB,AACE,IAAMC,OAAK,AAAA,yFAAUD;IACfE,eAAa,AAAA,kGAAeF;AADlC,AAEE,uBAAA,mFAAA,1GAACG,oLAAoCF;;AACrC,GAAM,kDAAA,lDAACG,6CAAEH;AAAT,AACE,8BAAA,mFAAA,1GAACE,uLAAqC,AAAA,kFAAMD;;AAD9C;;;AAGJ,0BAAA,1BAAMG;AAAN,AACE,OAAc,AAACC,iBAAYP,qBAASH","names":["blog.router/routes","blog.router/parse-url","url","bidi.bidi/match-route","blog.router/dispatch","matched-route","view","query-params","re-frame.core/dispatch","cljs.core._EQ_","blog.router/start!","pushy.core/pushy"],"sourcesContent":["(ns blog.router\r\n  (:require\r\n    [bidi.bidi :as bidi]\r\n    [pushy.core :as pushy]\r\n    [re-frame.core :as re-frame]))\r\n\r\n;;TODO: Define las rutas\r\n(def routes\r\n  [\"/\" {\"tags\" :tags\r\n        \"archives\" :archives}])\r\n\r\n;;TODO: Convierte la URL en una ruta valida\r\n(defn parse-url [url]\r\n  (bidi/match-route routes url))\r\n\r\n;;TODO: Despacha el evento para actualizar la pagina activa\r\n(defn dispatch [matched-route]\r\n  (let [view (:handler matched-route)\r\n        query-params (:query-params matched-route)]\r\n    (re-frame/dispatch [:set-active-page view])\r\n    (when (= view :archives)\r\n      (re-frame/dispatch [:set-selected-tag (:tag query-params)]))))\r\n\r\n(defn start! []\r\n  (pushy/start! (pushy/pushy dispatch parse-url)))\r\n\r\n"]}