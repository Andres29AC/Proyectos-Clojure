{"version":3,"sources":["re_frame/fx.cljc"],"mappings":"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","names":["re-frame.fx/kind","js/Error","re-frame.registrar/kinds","re-frame.fx/reg-fx","id","handler","re-frame.registrar/register-handler","re-frame.fx/do-fx","re_frame.interceptor.__GT_interceptor","context","re-frame.trace/is-trace-enabled?","*current-trace*-orig-val__7145","re-frame.trace/*current-trace*","*current-trace*-temp-val__7146","re-frame.trace/start-trace","end__6774__auto__","re-frame.interop/now","duration__6775__auto__","cljs.core.swap_BANG_","re-frame.trace/traces","cljs.core/conj","cljs.core.assoc","re-frame.trace/run-tracing-callbacks!","effects","effects-without-db","cljs.core.dissoc","temp__5804__auto__","new-db","fexpr__7148","fexpr__7180","re_frame.registrar.get_handler","seq__7149","cljs.core/seq","chunk__7150","count__7151","i__7152","vec__7168","cljs.core.nth","cljs.core/chunked-seq?","c__5525__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__7173","cljs.core/first","cljs.core/next","seq__7182","chunk__7183","count__7184","i__7185","vec__7199","vec__7208","effect-key","effect-value","temp__5802__auto__","effect-fn","re_frame.loggers.console","cljs.core._EQ_","p__7215","map__7216","cljs.core/--destructure-map","cljs.core.get","re-frame.fx/dispatch-later","ms","dispatch","effect","cljs.core/empty?","re-frame.interop/set-timeout!","re-frame.router/dispatch","value","cljs.core/map?","seq__7221","chunk__7222","count__7223","i__7224","cljs.core.remove","cljs.core/nil?","seq-of-effects","cljs.core/sequential?","cljs.core/type","seq__7237","chunk__7238","count__7239","i__7240","vec__7247","vec__7250","cljs.core/vector?","seq__7253","chunk__7254","count__7255","i__7256","event","clear-event","cljs.core.partial","re-frame.registrar/clear-handlers","re-frame.events/kind","seq__7257","chunk__7258","count__7259","i__7260","cljs.core/deref","re-frame.db/app-db","cljs.core/reset!","*current-trace*-orig-val__7261","*current-trace*-temp-val__7262"],"sourcesContent":["(ns re-frame.fx\n  (:require\n   [re-frame.router      :as router]\n   [re-frame.db          :refer [app-db]]\n   [re-frame.interceptor :refer [->interceptor]]\n   [re-frame.interop     :refer [set-timeout!]]\n   [re-frame.events      :as events]\n   [re-frame.registrar   :refer [get-handler clear-handlers register-handler]]\n   [re-frame.loggers     :refer [console]]\n   [re-frame.trace :as trace :include-macros true]))\n\n;; -- Registration ------------------------------------------------------------\n\n(def kind :fx)\n(assert (re-frame.registrar/kinds kind))\n\n(defn reg-fx\n  [id handler]\n  (register-handler kind id handler))\n\n;; -- Interceptor -------------------------------------------------------------\n\n(def do-fx\n  \"An interceptor whose `:after` actions the contents of `:effects`. As a result,\n  this interceptor is Domino 3.\n\n  This interceptor is silently added (by reg-event-db etc) to the front of\n  interceptor chains for all events.\n\n  For each key in `:effects` (a map), it calls the registered `effects handler`\n  (see `reg-fx` for registration of effect handlers).\n\n  So, if `:effects` was:\n      {:dispatch  [:hello 42]\n       :db        {...}\n       :undo      \\\"set flag\\\"}\n\n  it will call the registered effect handlers for each of the map's keys:\n  `:dispatch`, `:undo` and `:db`. When calling each handler, provides the map\n  value for that key - so in the example above the effect handler for :dispatch\n  will be given one arg `[:hello 42]`.\n\n  You cannot rely on the ordering in which effects are executed, other than that\n  `:db` is guaranteed to be executed first.\"\n  (->interceptor\n   :id :do-fx\n   :after (fn do-fx-after\n            [context]\n            (trace/with-trace\n              {:op-type :event/do-fx}\n              (let [effects            (:effects context)\n                    effects-without-db (dissoc effects :db)]\n                 ;; :db effect is guaranteed to be handled before all other effects.\n                (when-let [new-db (:db effects)]\n                  ((get-handler kind :db false) new-db))\n                (doseq [[effect-key effect-value] effects-without-db]\n                  (if-let [effect-fn (get-handler kind effect-key false)]\n                    (effect-fn effect-value)\n                    (console :warn\n                             \"re-frame: no handler registered for effect:\"\n                             effect-key\n                             \". Ignoring.\"\n                             (when (= :event effect-key)\n                               (str \"You may be trying to return a coeffect map from an event-fx handler. \"\n                                    \"See https://day8.github.io/re-frame/use-cofx-as-fx/\"))))))))))\n\n;; -- Builtin Effect Handlers  ------------------------------------------------\n\n;; :dispatch-later\n;;\n;; `dispatch` one or more events after given delays. Expects a collection\n;; of maps with two keys:  :`ms` and `:dispatch`\n;;\n;; usage:\n;;\n;;    {:dispatch-later [{:ms 200 :dispatch [:event-id \"param\"]}    ;;  in 200ms do this: (dispatch [:event-id \"param\"])\n;;                      {:ms 100 :dispatch [:also :this :in :100ms]}]}\n;;\n;; Note: nil entries in the collection are ignored which means events can be added\n;; conditionally:\n;;    {:dispatch-later [ (when (> 3 5) {:ms 200 :dispatch [:conditioned-out]})\n;;                       {:ms 100 :dispatch [:another-one]}]}\n;;\n(defn dispatch-later\n  [{:keys [ms dispatch] :as effect}]\n  (if (or (empty? dispatch) (not (number? ms)))\n    (console :error \"re-frame: ignoring bad :dispatch-later value:\" effect)\n    (set-timeout! #(router/dispatch dispatch) ms)))\n\n(reg-fx\n :dispatch-later\n (fn [value]\n   (if (map? value)\n     (dispatch-later value)\n     (doseq [effect (remove nil? value)]\n       (dispatch-later effect)))))\n\n;; :fx\n;;\n;; Handle one or more effects. Expects a collection of vectors (tuples) of the\n;; form [effect-key effect-value]. `nil` entries in the collection are ignored\n;; so effects can be added conditionally.\n;;\n;; usage:\n;;\n;; {:fx [[:dispatch [:event-id \"param\"]]\n;;       nil\n;;       [:http-xhrio {:method :post\n;;                     ...}]]}\n;;\n\n(reg-fx\n :fx\n (fn [seq-of-effects]\n   (if-not (sequential? seq-of-effects)\n     (console :warn \"re-frame: \\\":fx\\\" effect expects a seq, but was given \" (type seq-of-effects))\n     (doseq [[effect-key effect-value] (remove nil? seq-of-effects)]\n       (when (= :db effect-key)\n         (console :warn \"re-frame: \\\":fx\\\" effect should not contain a :db effect\"))\n       (if-let [effect-fn (get-handler kind effect-key false)]\n         (effect-fn effect-value)\n         (console :warn \"re-frame: in \\\":fx\\\" effect found \" effect-key \" which has no associated handler. Ignoring.\"))))))\n\n;; :dispatch\n;;\n;; `dispatch` one event. Expects a single vector.\n;;\n;; usage:\n;;   {:dispatch [:event-id \"param\"] }\n\n(reg-fx\n :dispatch\n (fn [value]\n   (if-not (vector? value)\n     (console :error \"re-frame: ignoring bad :dispatch value. Expected a vector, but got:\" value)\n     (router/dispatch value))))\n\n;; :dispatch-n\n;;\n;; `dispatch` more than one event. Expects a list or vector of events. Something for which\n;; sequential? returns true.\n;;\n;; usage:\n;;   {:dispatch-n (list [:do :all] [:three :of] [:these])}\n;;\n;; Note: nil events are ignored which means events can be added\n;; conditionally:\n;;    {:dispatch-n (list (when (> 3 5) [:conditioned-out])\n;;                       [:another-one])}\n;;\n(reg-fx\n :dispatch-n\n (fn [value]\n   (if-not (sequential? value)\n     (console :error \"re-frame: ignoring bad :dispatch-n value. Expected a collection, but got:\" value)\n     (doseq [event (remove nil? value)] (router/dispatch event)))))\n\n;; :deregister-event-handler\n;;\n;; removes a previously registered event handler. Expects either a single id (\n;; typically a namespaced keyword), or a seq of ids.\n;;\n;; usage:\n;;   {:deregister-event-handler :my-id)}\n;; or:\n;;   {:deregister-event-handler [:one-id :another-id]}\n;;\n(reg-fx\n :deregister-event-handler\n (fn [value]\n   (let [clear-event (partial clear-handlers events/kind)]\n     (if (sequential? value)\n       (doseq [event value] (clear-event event))\n       (clear-event value)))))\n\n;; :db\n;;\n;; reset! app-db with a new value. `value` is expected to be a map.\n;;\n;; usage:\n;;   {:db  {:key1 value1 key2 value2}}\n;;\n(reg-fx\n :db\n (fn [value]\n   (if-not (identical? @app-db value)\n     (reset! app-db value)\n     (trace/with-trace {:op-type :reagent/quiescent}))))\n\n"],"x_google_ignoreList":[0]}